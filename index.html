<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Premium Calculator Pro</title>
    <style>
        :root {
            --primary-color: #4a6fa5;
            --secondary-color: #6b8cbc;
            --accent-color: #ff6b6b;
            --text-color: #333;
            --bg-color: #f5f5f5;
            --screen-bg: #e9ecef;
            --button-bg: #fff;
            --button-shadow: #ccc;
            --font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        .dark-theme {
            --primary-color: #2c3e50;
            --secondary-color: #34495e;
            --accent-color: #e74c3c;
            --text-color: #ecf0f1;
            --bg-color: #1a1a1a;
            --screen-bg: #2c3e50;
            --button-bg: #34495e;
            --button-shadow: #1a252f;
        }

        .neon-theme {
            --primary-color: #0ff0fc;
            --secondary-color: #ff00ff;
            --accent-color: #00ff00;
            --text-color: #fff;
            --bg-color: #000;
            --screen-bg: #111;
            --button-bg: #222;
            --button-shadow: #0ff0fc;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: all 0.1s ease;
        }

        body {
            font-family: var(--font-family);
            background-color: var(--bg-color);
            color: var(--text-color);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
        }

        .calculator {
            background-color: var(--primary-color);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            margin-bottom: 20px;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
        }

        .screen {
            background-color: var(--screen-bg);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            text-align: right;
            min-height: 80px;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            overflow: hidden;
        }

        .calculation {
            font-size: 18px;
            color: var(--text-color);
            opacity: 0.7;
            margin-bottom: 5px;
            min-height: 24px;
        }

        .result {
            font-size: 32px;
            font-weight: bold;
            color: var(--text-color);
            word-break: break-all;
        }

        .buttons {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
        }

        .button {
            background-color: var(--button-bg);
            border: none;
            border-radius: 10px;
            padding: 15px 0;
            font-size: 20px;
            font-weight: bold;
            color: var(--text-color);
            cursor: pointer;
            box-shadow: 0 4px 0 var(--button-shadow);
            display: flex;
            justify-content: center;
            align-items: center;
            user-select: none;
        }

        .button:active {
            transform: translateY(4px);
            box-shadow: 0 0 0 var(--button-shadow);
        }

        .operator {
            background-color: var(--secondary-color);
            color: white;
        }

        .equals {
            background-color: var(--accent-color);
            color: white;
            grid-column: span 2;
        }

        .clear {
            background-color: #ff9f43;
            color: white;
        }

        .payment-screen {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.95);
            z-index: 1000;
            overflow-y: auto;
            padding: 20px;
        }

        .payment-container {
            background-color: var(--bg-color);
            max-width: 1100px;
            margin: 0 auto;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
        }

        .payment-header {
            text-align: center;
            margin-bottom: 30px;
            padding: 0 20px;
        }

        .payment-header h2 {
            color: var(--accent-color);
            margin-bottom: 10px;
            font-size: 28px;
        }

        .payment-header p {
            opacity: 0.8;
            font-size: 16px;
            line-height: 1.5;
        }

        .plans-payment-wrapper {
            display: flex;
            gap: 30px;
            margin-bottom: 25px;
        }

        @media (max-width: 900px) {
            .plans-payment-wrapper {
                flex-direction: column;
            }
        }

        .plans-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .plan {
            border: 3px solid var(--secondary-color);
            border-radius: 15px;
            padding: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: linear-gradient(135deg, var(--button-bg) 0%, rgba(255,255,255,0.1) 100%);
        }

        .plan:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }

        .plan.selected {
            border-color: var(--accent-color);
            background: linear-gradient(135deg, rgba(255, 107, 107, 0.1) 0%, rgba(255,255,255,0.05) 100%);
            transform: translateY(-5px);
        }

        .plan-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .plan h3 {
            color: var(--accent-color);
            font-size: 20px;
            margin: 0;
        }

        .price {
            font-size: 24px;
            font-weight: bold;
            color: var(--accent-color);
        }

        .plan-description {
            color: var(--text-color);
            opacity: 0.8;
            margin-bottom: 15px;
            font-style: italic;
        }

        .plan-features {
            margin-top: 15px;
        }

        .plan-features h4 {
            color: var(--secondary-color);
            margin-bottom: 10px;
            font-size: 16px;
        }

        .plan-features ul {
            list-style-type: none;
            padding-left: 0;
        }

        .plan-features li {
            margin-bottom: 8px;
            position: relative;
            padding-left: 25px;
            font-size: 14px;
            line-height: 1.4;
        }

        .plan-features li:before {
            content: "✓";
            position: absolute;
            left: 0;
            color: var(--accent-color);
            font-weight: bold;
        }

        .plan-restrictions {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid rgba(0,0,0,0.1);
        }

        .plan-restrictions h4 {
            color: #ff6b6b;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .plan-restrictions ul {
            list-style-type: none;
            padding-left: 0;
        }

        .plan-restrictions li {
            margin-bottom: 5px;
            position: relative;
            padding-left: 20px;
            font-size: 13px;
            opacity: 0.7;
        }

        .plan-restrictions li:before {
            content: "⚠";
            position: absolute;
            left: 0;
            color: #ff6b6b;
        }

        .payment-container-inner {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .form-section {
            background: var(--button-bg);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border: 2px solid var(--secondary-color);
        }

        .form-section h3 {
            color: var(--accent-color);
            margin-bottom: 15px;
            font-size: 18px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            font-size: 14px;
            color: var(--text-color);
        }

        input, select, textarea {
            width: 100%;
            padding: 12px 15px;
            border-radius: 8px;
            border: 2px solid #ddd;
            background-color: var(--button-bg);
            color: var(--text-color);
            font-size: 15px;
            transition: all 0.3s ease;
        }

        input:focus, select:focus, textarea:focus {
            border-color: var(--accent-color);
            outline: none;
            box-shadow: 0 0 0 3px rgba(255, 107, 107, 0.1);
        }

        .card-details {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr;
            gap: 15px;
        }

        .address-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .personal-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .additional-info {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .checkbox-group input {
            width: auto;
        }

        .checkbox-group label {
            margin: 0;
            font-size: 13px;
        }

        .payment-actions {
            display: flex;
            justify-content: center;
            margin-top: 25px;
        }

        .btn {
            padding: 15px 40px;
            border: none;
            border-radius: 10px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 16px;
            background: linear-gradient(135deg, var(--accent-color) 0%, #ff8e8e 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 107, 107, 0.4);
        }

        .btn:active {
            transform: translateY(0);
        }

        .theme-selector {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }

        .theme-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .theme-light {
            background-color: #f5f5f5;
            color: #333;
            border: 2px solid #ddd;
        }

        .theme-dark {
            background-color: #2c3e50;
            color: white;
            border: 2px solid #34495e;
        }

        .theme-neon {
            background-color: #000;
            color: #0ff0fc;
            border: 2px solid #0ff0fc;
        }

        .theme-btn:hover {
            transform: translateY(-2px);
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            background-color: var(--accent-color);
            color: white;
            border-radius: 8px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            transform: translateX(150%);
            transition: transform 0.3s ease;
            z-index: 1000;
            font-size: 14px;
        }

        .notification.show {
            transform: translateX(0);
        }

        .payment-note {
            text-align: center;
            margin-top: 20px;
            font-size: 12px;
            opacity: 0.7;
            font-style: italic;
            padding: 0 20px;
        }

        .security-badges {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 15px;
            opacity: 0.8;
        }

        .badge {
            font-size: 12px;
            padding: 5px 10px;
            background: var(--secondary-color);
            color: white;
            border-radius: 15px;
        }

        .required {
            color: var(--accent-color);
        }

        @media (max-width: 600px) {
            .card-details,
            .address-details,
            .personal-details,
            .additional-info {
                grid-template-columns: 1fr;
            }
            
            .plans-payment-wrapper {
                flex-direction: column;
            }
            
            .plan-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
        }
    </style>
</head>
<body class="light-theme">
    <div class="container">
        <div class="calculator">
            <div class="screen">
                <div class="calculation"></div>
                <div class="result">0</div>
            </div>
            <div class="buttons">
                <button class="button clear">C</button>
                <button class="button operator">/</button>
                <button class="button operator">×</button>
                <button class="button operator">-</button>
                <button class="button">7</button>
                <button class="button">8</button>
                <button class="button">9</button>
                <button class="button operator">+</button>
                <button class="button">4</button>
                <button class="button">5</button>
                <button class="button">6</button>
                <button class="button">1</button>
                <button class="button">2</button>
                <button class="button">3</button>
                <button class="button equals">=</button>
                <button class="button">0</button>
                <button class="button">.</button>
            </div>
        </div>

        <div class="theme-selector">
            <button class="theme-btn theme-light" data-theme="light">Light Theme</button>
            <button class="theme-btn theme-dark" data-theme="dark">Dark Theme</button>
            <button class="theme-btn theme-neon" data-theme="neon">Neon Theme</button>
        </div>
    </div>

    <div class="payment-screen" id="paymentScreen">
        <div class="payment-container">
            <div class="payment-header">
                <h2>🔒 Premium Calculator Access Required</h2>
                <p>Your calculation is ready! To view the result, please select a subscription plan and complete the secure payment process. No free tier available.</p>
            </div>

            <div class="plans-payment-wrapper">
                <div class="plans-container">
                    <div class="plan" data-plan="one-time">
                        <div class="plan-header">
                            <h3>💳 One-Time Access</h3>
                            <div class="price">$9.99</div>
                        </div>
                        <div class="plan-description">Perfect for single calculations and temporary access</div>
                        <div class="plan-features">
                            <h4>✅ What's Included:</h4>
                            <ul>
                                <li>One calculation result display</li>
                                <li>Basic arithmetic operations</li>
                                <li>24-hour access period</li>
                                <li>Standard email support</li>
                                <li>Basic calculation history</li>
                                <li>PDF export functionality</li>
                            </ul>
                        </div>
                        <div class="plan-restrictions">
                            <h4>⚠ Limitations:</h4>
                            <ul>
                                <li>Single use only</li>
                                <li>No advanced functions</li>
                                <li>No cloud storage</li>
                                <li>Limited to basic operations</li>
                                <li>No mobile app access</li>
                            </ul>
                        </div>
                    </div>

                    <div class="plan selected" data-plan="monthly">
                        <div class="plan-header">
                            <h3>🔄 Monthly Pro</h3>
                            <div class="price">$4.99/mo</div>
                        </div>
                        <div class="plan-description">Best value for regular users with unlimited access</div>
                        <div class="plan-features">
                            <h4>✅ Premium Features:</h4>
                            <ul>
                                <li>Unlimited calculations</li>
                                <li>Advanced math functions</li>
                                <li>Scientific calculator mode</li>
                                <li>Priority email support</li>
                                <li>5GB secure cloud storage</li>
                                <li>Custom themes & layouts</li>
                                <li>Extended calculation history</li>
                                <li>Multiple export formats</li>
                            </ul>
                        </div>
                        <div class="plan-restrictions">
                            <h4>⚠ Terms:</h4>
                            <ul>
                                <li>Monthly subscription</li>
                                <li>No AI features included</li>
                                <li>Standard analytics only</li>
                                <li>Cancel anytime</li>
                            </ul>
                        </div>
                    </div>

                    <div class="plan" data-plan="yearly">
                        <div class="plan-header">
                            <h3>⭐ Yearly Elite</h3>
                            <div class="price">$49.99/yr</div>
                        </div>
                        <div class="plan-description">Complete package with all premium features and AI capabilities</div>
                        <div class="plan-features">
                            <h4>✅ Elite Benefits:</h4>
                            <ul>
                                <li>All Pro features included</li>
                                <li>AI-powered calculations</li>
                                <li>Advanced data analytics</li>
                                <li>25GB secure cloud storage</li>
                                <li>Dedicated support manager</li>
                                <li>Early feature access</li>
                                <li>Custom function creation</li>
                                <li>Team collaboration tools</li>
                                <li>API access</li>
                            </ul>
                        </div>
                        <div class="plan-restrictions">
                            <h4>⚠ Considerations:</h4>
                            <ul>
                                <li>Annual commitment</li>
                                <li>Enterprise-grade security</li>
                                <li>Advanced setup required</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="payment-container-inner">
                    <form id="payment-form">
                        <!-- Payment Information Section -->
                        <div class="form-section">
                            <h3>💳 Payment Information</h3>
                            <div class="form-group">
                                <label for="card-number">Card Number <span class="required">*</span></label>
                                <input type="text" id="card-number" placeholder="1234 5678 9012 3456" required maxlength="19">
                            </div>

                            <div class="card-details">
                                <div class="form-group">
                                    <label for="expiry">Expiry Date <span class="required">*</span></label>
                                    <input type="text" id="expiry" placeholder="MM/YY" required maxlength="5">
                                </div>

                                <div class="form-group">
                                    <label for="cvc">Security Code <span class="required">*</span></label>
                                    <input type="text" id="cvc" placeholder="CVC" required maxlength="3">
                                </div>

                                <div class="form-group">
                                    <label for="card-type">Card Type <span class="required">*</span></label>
                                    <select id="card-type" required>
                                        <option value="">Select card type</option>
                                        <option value="visa">Visa</option>
                                        <option value="mastercard">MasterCard</option>
                                        <option value="amex">American Express</option>
                                        <option value="discover">Discover</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="name">Cardholder Name <span class="required">*</span></label>
                                <input type="text" id="name" placeholder="As shown on your card" required>
                            </div>
                        </div>

                        <!-- Billing Address Section -->
                        <div class="form-section">
                            <h3>🏠 Billing Address</h3>
                            <div class="form-group">
                                <label for="address">Street Address <span class="required">*</span></label>
                                <input type="text" id="address" placeholder="123 Main Street" required>
                            </div>

                            <div class="address-details">
                                <div class="form-group">
                                    <label for="city">City <span class="required">*</span></label>
                                    <input type="text" id="city" placeholder="City" required>
                                </div>

                                <div class="form-group">
                                    <label for="state">State/Province <span class="required">*</span></label>
                                    <input type="text" id="state" placeholder="State" required>
                                </div>
                            </div>

                            <div class="address-details">
                                <div class="form-group">
                                    <label for="country">Country <span class="required">*</span></label>
                                    <select id="country" required>
                                        <option value="">Select your country</option>
                                        <option value="us">United States</option>
                                        <option value="uk">United Kingdom</option>
                                        <option value="ca">Canada</option>
                                        <option value="au">Australia</option>
                                        <option value="de">Germany</option>
                                        <option value="fr">France</option>
                                        <option value="jp">Japan</option>
                                    </select>
                                </div>

                                <div class="form-group">
                                    <label for="zip">ZIP/Postal Code <span class="required">*</span></label>
                                    <input type="text" id="zip" placeholder="Postal code" required>
                                </div>
                            </div>
                        </div>

                        <!-- Personal Information Section -->
                        <div class="form-section">
                            <h3>👤 Personal Information</h3>
                            <div class="personal-details">
                                <div class="form-group">
                                    <label for="email">Email Address <span class="required">*</span></label>
                                    <input type="email" id="email" placeholder="your.email@example.com" required>
                                </div>

                                <div class="form-group">
                                    <label for="phone">Phone Number <span class="required">*</span></label>
                                    <input type="tel" id="phone" placeholder="+1 (555) 123-4567" required>
                                </div>
                            </div>

                            <div class="personal-details">
                                <div class="form-group">
                                    <label for="company">Company/Organization</label>
                                    <input type="text" id="company" placeholder="Optional">
                                </div>

                                <div class="form-group">
                                    <label for="job-title">Job Title</label>
                                    <input type="text" id="job-title" placeholder="Optional">
                                </div>
                            </div>
                        </div>

                        <!-- Additional Information Section -->
                        <div class="form-section">
                            <h3>📋 Additional Information</h3>
                            <div class="form-group">
                                <label for="usage">Primary Use Case <span class="required">*</span></label>
                                <select id="usage" required>
                                    <option value="">Select primary use</option>
                                    <option value="personal">Personal Use</option>
                                    <option value="education">Education</option>
                                    <option value="business">Business/Professional</option>
                                    <option value="research">Research</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="referral">How did you hear about us?</label>
                                <select id="referral">
                                    <option value="">Select option</option>
                                    <option value="search">Search Engine</option>
                                    <option value="social">Social Media</option>
                                    <option value="friend">Friend/Colleague</option>
                                    <option value="ad">Advertisement</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="comments">Additional Comments or Requirements</label>
                                <textarea id="comments" placeholder="Any special requirements or comments..." rows="3"></textarea>
                            </div>

                            <div class="checkbox-group">
                                <input type="checkbox" id="newsletter" checked>
                                <label for="newsletter">Send me product updates and special offers</label>
                            </div>

                            <div class="checkbox-group">
                                <input type="checkbox" id="terms" required>
                                <label for="terms">I agree to the <a href="#" style="color: var(--accent-color);">Terms of Service</a> and <a href="#" style="color: var(--accent-color);">Privacy Policy</a> <span class="required">*</span></label>
                            </div>
                        </div>

                        <div class="payment-actions">
                            <button type="submit" class="btn">💳 Complete Payment & Unlock Results</button>
                        </div>
                    </form>
                </div>
            </div>
            
            <div class="security-badges">
                <div class="badge">🔒 SSL Encrypted</div>
                <div class="badge">🛡️ PCI Compliant</div>
                <div class="badge">💰 Money Back Guarantee</div>
                <div class="badge">🌐 Global Support</div>
            </div>
            
            <div class="payment-note">
                🔐 Your payment information is securely processed and encrypted. By completing this payment, you agree to our Terms of Service and Privacy Policy. Subscription plans automatically renew unless canceled. All payments are processed in USD.
            </div>
        </div>
    </div>

    <div class="notification" id="notification">
        Payment processed successfully! You now have access to calculator results.
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // DOM Elements
            const calculationDisplay = document.querySelector('.calculation');
            const resultDisplay = document.querySelector('.result');
            const buttons = document.querySelectorAll('.button');
            const equalsButton = document.querySelector('.equals');
            const clearButton = document.querySelector('.clear');
            const plans = document.querySelectorAll('.plan');
            const paymentForm = document.getElementById('payment-form');
            const notification = document.getElementById('notification');
            const themeButtons = document.querySelectorAll('.theme-btn');
            const paymentScreen = document.getElementById('paymentScreen');
            
            // Calculator state
            let currentInput = '0';
            let previousInput = '';
            let operation = null;
            let shouldResetScreen = false;
            let paymentCompleted = false;
            let selectedPlan = 'monthly';
            
            // Theme switching
            themeButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const theme = this.getAttribute('data-theme');
                    document.body.className = `${theme}-theme`;
                });
            });
            
            // Plan selection
            plans.forEach(plan => {
                plan.addEventListener('click', function() {
                    plans.forEach(p => p.classList.remove('selected'));
                    this.classList.add('selected');
                    selectedPlan = this.getAttribute('data-plan');
                });
            });
            
            // Calculator button clicks
            buttons.forEach(button => {
                button.addEventListener('click', function() {
                    if (this === equalsButton) {
                        if (!paymentCompleted) {
                            showPaymentScreen();
                            return;
                        }
                        calculate();
                        return;
                    }
                    
                    if (this === clearButton) {
                        clear();
                        return;
                    }
                    
                    if (this.classList.contains('operator')) {
                        handleOperator(this.textContent);
                        return;
                    }
                    
                    handleNumber(this.textContent);
                });
            });
            
            // Show payment screen
            function showPaymentScreen() {
                paymentScreen.style.display = 'block';
            }
            
            // Handle number input
            function handleNumber(number) {
                if (currentInput === '0' || shouldResetScreen) {
                    currentInput = number;
                    shouldResetScreen = false;
                } else {
                    currentInput += number;
                }
                updateDisplay();
            }
            
            // Handle operator input
            function handleOperator(op) {
                if (operation !== null) calculate();
                previousInput = currentInput;
                operation = op;
                shouldResetScreen = true;
                calculationDisplay.textContent = `${previousInput} ${operation}`;
            }
            
            // Perform calculation
            function calculate() {
                if (operation === null || shouldResetScreen) return;
                
                let result;
                const prev = parseFloat(previousInput);
                const current = parseFloat(currentInput);
                
                if (isNaN(prev) || isNaN(current)) return;
                
                switch (operation) {
                    case '+':
                        result = prev + current;
                        break;
                    case '-':
                        result = prev - current;
                        break;
                    case '×':
                        result = prev * current;
                        break;
                    case '/':
                        result = prev / current;
                        break;
                    default:
                        return;
                }
                
                currentInput = result.toString();
                operation = null;
                previousInput = '';
                calculationDisplay.textContent = '';
                updateDisplay();
                shouldResetScreen = true;
            }
            
            // Clear calculator
            function clear() {
                currentInput = '0';
                previousInput = '';
                operation = null;
                calculationDisplay.textContent = '';
                updateDisplay();
            }
            
            // Update display
            function updateDisplay() {
                resultDisplay.textContent = currentInput;
            }
            
            // Process payment
            paymentForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Validate required fields
                const requiredFields = [
                    'card-number', 'expiry', 'cvc', 'card-type', 'name',
                    'address', 'city', 'state', 'country', 'zip',
                    'email', 'phone', 'usage', 'terms'
                ];
                
                let isValid = true;
                requiredFields.forEach(fieldId => {
                    const field = document.getElementById(fieldId);
                    if (!field.value) {
                        isValid = false;
                        field.style.borderColor = 'red';
                    } else {
                        field.style.borderColor = '';
                    }
                });
                
                if (!isValid) {
                    showNotification('Please fill all required fields');
                    return;
                }
                
                // Simulate payment processing
                showNotification('Processing payment and verifying information...');
                
                setTimeout(function() {
                    paymentCompleted = true;
                    paymentScreen.style.display = 'none';
                    
                    const planDetails = getPlanDetails(selectedPlan);
                    const userData = collectUserData();
                    
                    showNotification(`Payment successful! ${planDetails.name} activated.`);
                    
                    // Perform the calculation if there's one pending
                    if (operation !== null) {
                        calculate();
                    }
                    
                    // Display all data in JSON format
                    const completeData = {
                        plan: planDetails,
                        user: userData,
                        payment: {
                            amount: planDetails.price,
                            currency: 'USD',
                            timestamp: new Date().toISOString(),
                            status: 'completed'
                        }
                    };
                    
                    console.log('Complete Payment Details:', JSON.stringify(completeData, null, 2));
                    
                }, 3000);
            });
            
            // Collect user data
            function collectUserData() {
                return {
                    personal: {
                        name: document.getElementById('name').value,
                        email: document.getElementById('email').value,
                        phone: document.getElementById('phone').value,
                        company: document.getElementById('company').value,
                        jobTitle: document.getElementById('job-title').value
                    },
                    billing: {
                        address: document.getElementById('address').value,
                        city: document.getElementById('city').value,
                        state: document.getElementById('state').value,
                        country: document.getElementById('country').value,
                        zip: document.getElementById('zip').value
                    },
                    payment: {
                        cardType: document.getElementById('card-type').value,
                        cardLastFour: document.getElementById('card-number').value.slice(-4)
                    },
                    preferences: {
                        usage: document.getElementById('usage').value,
                        referral: document.getElementById('referral').value,
                        comments: document.getElementById('comments').value,
                        newsletter: document.getElementById('newsletter').checked
                    }
                };
            }
            
            // Show notification
            function showNotification(message) {
                notification.textContent = message;
                notification.classList.add('show');
                setTimeout(function() {
                    notification.classList.remove('show');
                }, 4000);
            }
            
            // Get plan details
            function getPlanDetails(plan) {
                const planDetails = {
                    'one-time': {
                        name: 'One-Time Access',
                        price: '$9.99',
                        benefits: [
                            'One calculation result display',
                            'Basic arithmetic operations', 
                            '24-hour access period',
                            'Standard email support',
                            'Basic calculation history',
                            'PDF export functionality'
                        ],
                        restrictions: [
                            'Single use only',
                            'No advanced functions',
                            'No cloud storage',
                            'Limited to basic operations',
                            'No mobile app access'
                        ],
                        duration: '24 hours',
                        bonuses: ['Basic export functionality'],
                        type: 'one_time'
                    },
                    'monthly': {
                        name: 'Monthly Pro',
                        price: '$4.99/month',
                        benefits: [
                            'Unlimited calculations',
                            'Advanced math functions',
                            'Scientific calculator mode',
                            'Priority email support',
                            '5GB secure cloud storage',
                            'Custom themes & layouts',
                            'Extended calculation history',
                            'Multiple export formats'
                        ],
                        restrictions: [
                            'Monthly subscription',
                            'No AI features included',
                            'Standard analytics only',
                            'Cancel anytime'
                        ],
                        duration: '30 days',
                        bonuses: ['Export functionality', 'History tracking', 'Custom themes'],
                        type: 'subscription'
                    },
                    'yearly': {
                        name: 'Yearly Elite',
                        price: '$49.99/year',
                        benefits: [
                            'All Pro features included',
                            'AI-powered calculations',
                            'Advanced data analytics',
                            '25GB secure cloud storage',
                            'Dedicated support manager',
                            'Early feature access',
                            'Custom function creation',
                            'Team collaboration tools',
                            'API access'
                        ],
                        restrictions: [
                            'Annual commitment',
                            'Enterprise-grade security',
                            'Advanced setup required'
                        ],
                        duration: '365 days',
                        bonuses: ['Early access to features', '500 bonus points', 'Premium themes', 'API access'],
                        type: 'subscription'
                    }
                };
                
                return planDetails[plan];
            }
            
            // Initialize calculator
            clear();
        });
    </script>
</body>
</html>